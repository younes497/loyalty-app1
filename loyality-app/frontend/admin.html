<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
</head>
<body>
<h1>Admin Panel</h1>
<div id="users"></div>

<script>
async function loadUsers() {
  const res = await fetch('http://localhost:3000/api/users');
  const users = await res.json();
  const container = document.getElementById('users');
  container.innerHTML = '';
  users.forEach(u => {
    const div = document.createElement('div');
    div.innerHTML = u.name + ' - ' + u.email + ' - Active: ' + u.subscriptionActive +
      ' <button onclick="activate(\\'' + u._id + '\\')">Activate</button>' +
      ' <button onclick="addPoints(\\'' + u._id + '\\')">+10 Points</button>';
    container.appendChild(div);
  });
}

async function activate(id) {
  await fetch('http://localhost:3000/api/users/' + id + '/activate', { method: 'POST' });
  loadUsers();
}

async function addPoints(id) {
  await fetch('http://localhost:3000/api/users/' + id + '/addpoints', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ points: 10 })
  });
  loadUsers();
}

loadUsers();
</script>
</body>
</html>
